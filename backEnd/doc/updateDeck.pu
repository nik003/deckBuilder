@startuml
participant frontend
control backend
database mongoDB

frontend -> backend:put(/deck/update?name=""&card=""&newName="")
backend -> backend:parseDeckName(name)
backend -> backend:nameExists(name)
backend -> backend:createQuery("deck","get","name")
backend -> mongoDB:sendQuery(query)
backend <- mongoDB:parseDbResponse(response)
alt name is not empty and does exist
  backend -> backend:createQuery("deck","delete",name)
  backend -> mongoDB:sendQuery(query)
  backend <- mongoDB:parseDbResponse(response)
  alt response is ok
    backend -> frontend:http(200)
  else response is not ok
    backend -> frontend:http(500)
  end
else name is empty
  backend -> frontend:http(400)
else name does not exists
backend -> frontend:http(404)
end


@enduml
